(function(a){a.fn.mCheck=function(d){var e=a.extend({},d);var c=a(this);if(c.attr("type")!="checkbox"){console.error("The object in selector is not of type 'checkbox'!");return false}c.hide();var b=c.wrap(a('<span class="mCheck"></span>')).parent();var f=a('<span class="mCheckState"></span>').prependTo(b);b.outerWidth(c.width());b.outerHeight(c.height());c.change(function(){f.removeClass("mCheckOn mCheckOff");f.addClass(c.prop("checked")?"mCheckOn":"mCheckOff")}).trigger("change");b.off("click").click(function(){c.prop("checked",!c.prop("checked")).change()});return c}}(jQuery));